(()=>{function Z(i){let t=i({css:(s,...o)=>s.raw[0]+o.join("")});if(document.adoptedStyleSheets===void 0){let s=document.createElement("style");s.textContent=t,document.head.appendChild(s);return}let e=new CSSStyleSheet;e.replaceSync(t),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]}function ve(i,t){let e=i;for(;e;){if(t(e))return e;e=e.parentElement}}function q(i,t){let e=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,t?{acceptNode:s=>{let o,n;return t(s,{skip:()=>o=!0,reject:()=>n=!0}),o?NodeFilter.FILTER_SKIP:n?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}:{});return new Ht(e)}var Ht=class{constructor(t){this.walker=t}from(t){return this.walker.currentNode=t,this}first(){return this.walker.firstChild()}last(){return this.walker.lastChild()}next(t){return this.walker.currentNode=t,this.walker.nextSibling()}nextOrFirst(t){let e=this.next(t);return e||(this.walker.currentNode=this.walker.root,this.first())}prev(t){return this.walker.currentNode=t,this.walker.previousSibling()}prevOrLast(t){let e=this.prev(t);return e||(this.walker.currentNode=this.walker.root,this.last())}closest(t,e){let s=this.from(t).walker;for(;s.currentNode;){if(e(s.currentNode))return s.currentNode;s.parentNode()}}contains(t){return this.find(e=>e===t)}find(t){return this.walk((e,s)=>{t(e)&&s(e)})}findOrFirst(t){return this.find(t)||(this.walker.currentNode=this.walker.root),this.first()}each(t){this.walk(e=>t(e))}some(t){return!!this.find(t)}every(t){let e=!0;return this.walk(s=>{t(s)||(e=!1)}),e}map(t){let e=[];return this.walk(s=>e.push(t(s))),e}filter(t){let e=[];return this.walk(s=>t(s)&&e.push(s)),e}walk(t){let e,s=this.walker,o;for(;s.nextNode()&&(e=s.currentNode,t(e,n=>o=n),o===void 0););return o}};function T(i,t){customElements.define(`ui-${i}`,t)}function w(i,t,e,s={}){return i.addEventListener(t,e,s),{off:()=>i.removeEventListener(t,e),pause:o=>{i.removeEventListener(t,e),o(),i.addEventListener(t,e)}}}function we(i){return["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[tabindex]","[contenteditable]"].some(e=>i.matches(e))&&i.tabIndex>=0}function ei(i,t){let e;return function(){let s=this,o=arguments;e||(i.apply(s,o),e=!0,setTimeout(()=>e=!1,t))}}var Mt="pointer";document.addEventListener("keydown",()=>Mt="keyboard",{capture:!0});document.addEventListener("pointerdown",i=>{Mt=i.pointerType==="mouse"?"mouse":"touch"},{capture:!0});function $t(){return Mt==="keyboard"}function ii(){return Mt==="touch"}function xe(i,t){i.addEventListener("keydown",e=>{e.key.length===1&&/[a-zA-Z]/.test(e.key)&&(t(e.key),e.stopPropagation())})}function si(i,t){return"lofi-"+(t?t+"-":"")+Math.random().toString(16).slice(2)}function B(i,t){let e=i.hasAttribute("id")?i.getAttribute("id"):si(i,t);return h(i,"id",e),i._x_bindings||(i._x_bindings={}),i._x_bindings.id||(i._x_bindings.id=e),e}function J(){let i=!1;return t=>(...e)=>{i||(i=!0,t(...e),i=!1)}}function ht(i,t,{gain:e,lose:s,focusable:o,safeArea:n}){let r=!1;o&&document.addEventListener("focusin",d=>{$t()&&(i.contains(d.target)||t.contains(d.target)?(r=!0,e()):(r=!1,s()))});let l=()=>{},c=()=>{},u=()=>{r=!1,s(),l(),c()},p=()=>{r=!1,l(),c()};return i.addEventListener("pointerenter",d=>{ii()||r||(r=!0,e(),setTimeout(()=>{let{safeArea:a,redraw:f,remove:b}=oi(i,t,d.clientX,d.clientY);l=b;let g,v=ei(m=>{let x=t.getBoundingClientRect(),A=i.getBoundingClientRect(),_;switch(a.contains(m.target)&&ni(A,x,m.clientX,m.clientY)?_="safeArea":t.contains(m.target)?_="panel":i.contains(m.target)?_="trigger":_="outside",g&&clearTimeout(g),_){case"outside":u();break;case"trigger":f(m.clientX,m.clientY);break;case"panel":l();break;case"safeArea":f(m.clientX,m.clientY),g=setTimeout(()=>{u()},300);break;default:break}},100);document.addEventListener("pointermove",v),c=()=>document.removeEventListener("pointermove",v)}))}),{clear:p}}function oi(i,t,e,s){let o=document.createElement("div"),n=t.getBoundingClientRect(),r=i.getBoundingClientRect();o.style.position="fixed",h(o,"data-safe-area","");let l=(c,u)=>{if(n.top===0&&n.bottom===0)return;let p;n.left<r.left&&(p="left"),n.right>r.right&&(p="right"),n.top<r.top&&n.bottom<u&&(p="up"),n.bottom>r.bottom&&n.top>u&&(p="down"),p===void 0&&(p="right");let d,a,f,b,g,v,m,x,A=10;switch(p){case"left":d=n.right,a=Math.max(n.right,c)+5,f=a-d,b=Math.min(r.top,n.top)-A,g=Math.max(r.bottom,n.bottom)+A,v=g-b,m=u-b,x=`polygon(0% 0%, 100% ${m}px, 0% 100%)`;break;case"right":d=Math.min(n.left,c)-5,a=n.left,f=a-d,b=Math.min(r.top,n.top)-A,g=Math.max(r.bottom,n.bottom)+A,v=g-b,m=u-b,x=`polygon(0% ${m}px, 100% 0%, 100% 100%)`;break;case"up":d=Math.min(c,n.left)-A,a=Math.max(c,n.right)+A,f=a-d,b=n.bottom,g=Math.max(n.bottom,u)+5,v=g-b,m=c-d,x=`polygon(0% 0%, 100% 0%, ${m}px 100%)`;break;case"down":d=Math.min(c,n.left)-A,a=Math.max(c,n.right)+A,f=a-d,b=Math.min(n.top,u)-5,g=n.top,v=g-b,m=c-d,x=`polygon(${m}px 0%, 100% 100%, 0% 100%)`;break}o.style.left=`${d}px`,o.style.top=`${b}px`,o.style.width=`${f}px`,o.style.height=`${v}px`,o.style.clipPath=x};return{safeArea:o,redraw:(c,u)=>{o.isConnected||i.appendChild(o),l(c,u)},remove:()=>{o.remove()}}}function ni(i,t,e,s){return!ri(i,e,s)&&!li(t,e,s)}function ri(i,t,e){return i.left<=t&&t<=i.right&&i.top<=e&&e<=i.bottom}function li(i,t,e){return i.left<=t&&t<=i.right&&i.top<=e&&e<=i.bottom}function h(i,t,e){i._durableAttributeObserver===void 0&&(i._durableAttributeObserver=Ae(i,[t])),i._durableAttributeObserver.hasAttribute(t)||i._durableAttributeObserver.addAttribute(t),i._durableAttributeObserver.pause(()=>{i.setAttribute(t,e)})}function y(i,t){i._durableAttributeObserver===void 0&&(i._durableAttributeObserver=Ae(i,[t])),i._durableAttributeObserver.hasAttribute(t)||i._durableAttributeObserver.addAttribute(t),i._durableAttributeObserver.pause(()=>{i.removeAttribute(t)})}function Ae(i,t){let e=o=>{o.forEach(n=>{n.oldValue===null?i._durableAttributeObserver.pause(()=>y(i,n.attributeName)):i._durableAttributeObserver.pause(()=>h(i,n.attributeName,n.oldValue))})},s=new MutationObserver(o=>e(o));return s.observe(i,{attributeFilter:t,attributeOldValue:!0}),{attributes:t,hasAttribute(o){return this.attributes.includes(o)},addAttribute(o){this.attributes.includes(o)||this.attributes.push(o),s.observe(i,{attributeFilter:this.attributes,attributeOldValue:!0})},pause(o){e(s.takeRecords()),s.disconnect(),o(),s.observe(i,{attributeFilter:this.attributes,attributeOldValue:!0})}}}var k=class extends HTMLElement{constructor(){super(),this.boot?.()}connectedCallback(){queueMicrotask(()=>{this.mount?.()})}mixin(t,e={}){return new t(this,e)}appendMixin(t,e={}){return new t(this,e)}use(t){let e;return this.mixins.forEach(s=>{s instanceof t&&(e=s)}),e}uses(t){let e;return this.mixins.forEach(s=>{s instanceof t&&(e=!0)}),!!e}on(t,e){return w(this,t,e)}root(t,e={}){if(t===void 0)return this.__root;let s=document.createElement(t);for(let n in e)setAttribute(s,n,e[n]);let o=this.attachShadow({mode:"open"});return s.appendChild(document.createElement("slot")),o.appendChild(s),this.__root=s,this.__root}},Rt=class extends k{};var C=class{constructor(t,e={}){this.el=t,this.grouped=e.grouped===void 0,this.el.mixins=this.el.mixins?this.el.mixins:new Map,this.el.mixins.set(this.constructor.name,this),this.el[this.constructor.name]=!0,this.el.use||(this.el.use=k.prototype.use.bind(this.el)),this.opts=e,this.boot?.({options:s=>{let o=s;Object.entries(this.opts).forEach(([n,r])=>{r!==void 0&&(o[n]=r)}),this.opts=o}}),queueMicrotask(()=>{this.mount?.()})}options(){return this.opts}hasGroup(){return!!this.group()}group(){if(this.grouped!==!1)return ve(this.el,t=>t[this.groupedByType.name])?.use(this.groupedByType)}on(t,e){return w(this.el,t,e)}},V=class extends C{constructor(t,e={}){super(t,e)}walker(){return q(this.el,(t,{skip:e,reject:s})=>{if(t[this.constructor.name]&&t!==this.el)return s();if(!t[this.groupOfType.name]||!t.mixins.get(this.groupOfType.name).grouped)return e()})}};var H=class extends C{boot({options:t}){this.initialState=this.el.value,this.getterFunc=()=>{},this.setterFunc=e=>this.initialState=e,Object.defineProperty(this.el,"value",{get:()=>this.getterFunc(),set:e=>{this.setterFunc(e)}})}initial(t){t(this.initialState)}getter(t){this.getterFunc=t}setter(t){this.setterFunc=t}dispatch(){this.el.dispatchEvent(new Event("input",{bubbles:!1,cancelable:!0})),this.el.dispatchEvent(new Event("change",{bubbles:!1,cancelable:!0}))}};var zt=new Set,R=class extends C{boot({options:t}){t({trigger:null}),h(this.el,"popover","manual"),this.trigger=this.options().trigger,this.onChanges=[],this.state=!1,w(this.el,"beforetoggle",e=>{let s=this.state;if(this.state=e.newState==="open",this.state){ai(this.el,zt);let o=new AbortController,n=document.activeElement;setTimeout(()=>{ci(this.el,n,o),ui(this.el,n,o),hi(this.el,n,o)}),this.el.addEventListener("beforetoggle",r=>{r.newState==="closed"&&(o.abort(),n.focus())},{signal:o.signal})}s!==this.state&&this.onChanges.forEach(o=>o(this.state,s))}),w(this.el,"toggle",e=>{e.newState==="open"&&zt.add(this.el),e.newState==="closed"&&zt.delete(this.el)})}onChange(t){this.onChanges.push(t)}setState(t){t?this.show():this.hide()}getState(){return this.state}toggle(){this.el.togglePopover()}show(){this.el.showPopover()}hide(){this.el.hidePopover()}};function ai(i,t){t.forEach(e=>{i.contains(e)||e.contains(i)||e.hidePopover()})}function ci(i,t,e){document.addEventListener("click",s=>{i.contains(s.target)||t===s.target||i.hidePopover()},{signal:e.signal})}function ui(i,t,e){document.addEventListener("focusin",s=>{i.contains(s.target)||t===s.target||(e.abort(),i.hidePopover())},{capture:!0,signal:e.signal})}function hi(i,t,e){document.addEventListener("keydown",s=>{s.key==="Escape"&&i.hidePopover()},{signal:e.signal})}var $=Math.min,P=Math.max,xt=Math.round,At=Math.floor,j=i=>({x:i,y:i}),fi={left:"right",right:"left",bottom:"top",top:"bottom"},di={start:"end",end:"start"};function jt(i,t,e){return P(i,$(t,e))}function ft(i,t){return typeof i=="function"?i(t):i}function U(i){return i.split("-")[0]}function dt(i){return i.split("-")[1]}function Ut(i){return i==="x"?"y":"x"}function Yt(i){return i==="y"?"height":"width"}function Q(i){return["top","bottom"].includes(U(i))?"y":"x"}function Xt(i){return Ut(Q(i))}function ye(i,t,e){e===void 0&&(e=!1);let s=dt(i),o=Xt(i),n=Yt(o),r=o==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[n]>t.floating[n]&&(r=wt(r)),[r,wt(r)]}function _e(i){let t=wt(i);return[Ft(i),t,Ft(t)]}function Ft(i){return i.replace(/start|end/g,t=>di[t])}function pi(i,t,e){let s=["left","right"],o=["right","left"],n=["top","bottom"],r=["bottom","top"];switch(i){case"top":case"bottom":return e?t?o:s:t?s:o;case"left":case"right":return t?n:r;default:return[]}}function Se(i,t,e,s){let o=dt(i),n=pi(U(i),e==="start",s);return o&&(n=n.map(r=>r+"-"+o),t&&(n=n.concat(n.map(Ft)))),n}function wt(i){return i.replace(/left|right|bottom|top/g,t=>fi[t])}function bi(i){return{top:0,right:0,bottom:0,left:0,...i}}function ke(i){return typeof i!="number"?bi(i):{top:i,right:i,bottom:i,left:i}}function ot(i){let{x:t,y:e,width:s,height:o}=i;return{width:s,height:o,top:e,left:t,right:t+s,bottom:e+o,x:t,y:e}}function Ee(i,t,e){let{reference:s,floating:o}=i,n=Q(t),r=Xt(t),l=Yt(r),c=U(t),u=n==="y",p=s.x+s.width/2-o.width/2,d=s.y+s.height/2-o.height/2,a=s[l]/2-o[l]/2,f;switch(c){case"top":f={x:p,y:s.y-o.height};break;case"bottom":f={x:p,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:d};break;case"left":f={x:s.x-o.width,y:d};break;default:f={x:s.x,y:s.y}}switch(dt(t)){case"start":f[r]-=a*(e&&u?-1:1);break;case"end":f[r]+=a*(e&&u?-1:1);break}return f}var Ce=async(i,t,e)=>{let{placement:s="bottom",strategy:o="absolute",middleware:n=[],platform:r}=e,l=n.filter(Boolean),c=await(r.isRTL==null?void 0:r.isRTL(t)),u=await r.getElementRects({reference:i,floating:t,strategy:o}),{x:p,y:d}=Ee(u,s,c),a=s,f={},b=0;for(let g=0;g<l.length;g++){let{name:v,fn:m}=l[g],{x,y:A,data:_,reset:S}=await m({x:p,y:d,initialPlacement:s,placement:a,strategy:o,middlewareData:f,rects:u,platform:r,elements:{reference:i,floating:t}});p=x??p,d=A??d,f={...f,[v]:{...f[v],..._}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(a=S.placement),S.rects&&(u=S.rects===!0?await r.getElementRects({reference:i,floating:t,strategy:o}):S.rects),{x:p,y:d}=Ee(u,a,c)),g=-1)}return{x:p,y:d,placement:a,strategy:o,middlewareData:f}};async function Dt(i,t){var e;t===void 0&&(t={});let{x:s,y:o,platform:n,rects:r,elements:l,strategy:c}=i,{boundary:u="clippingAncestors",rootBoundary:p="viewport",elementContext:d="floating",altBoundary:a=!1,padding:f=0}=ft(t,i),b=ke(f),v=l[a?d==="floating"?"reference":"floating":d],m=ot(await n.getClippingRect({element:(e=await(n.isElement==null?void 0:n.isElement(v)))==null||e?v:v.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(l.floating)),boundary:u,rootBoundary:p,strategy:c})),x=d==="floating"?{x:s,y:o,width:r.floating.width,height:r.floating.height}:r.reference,A=await(n.getOffsetParent==null?void 0:n.getOffsetParent(l.floating)),_=await(n.isElement==null?void 0:n.isElement(A))?await(n.getScale==null?void 0:n.getScale(A))||{x:1,y:1}:{x:1,y:1},S=ot(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:A,strategy:c}):x);return{top:(m.top-S.top+b.top)/_.y,bottom:(S.bottom-m.bottom+b.bottom)/_.y,left:(m.left-S.left+b.left)/_.x,right:(S.right-m.right+b.right)/_.x}}var Oe=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(t){var e,s;let{placement:o,middlewareData:n,rects:r,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:p=!0,crossAxis:d=!0,fallbackPlacements:a,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...v}=ft(i,t);if((e=n.arrow)!=null&&e.alignmentOffset)return{};let m=U(o),x=Q(l),A=U(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=a||(A||!g?[wt(l)]:_e(l)),I=b!=="none";!a&&I&&S.push(...Se(l,g,b,_));let Lt=[l,...S],ct=await Dt(t,v),it=[],X=((s=n.flip)==null?void 0:s.overflows)||[];if(p&&it.push(ct[m]),d){let st=ye(o,r,_);it.push(ct[st[0]],ct[st[1]])}if(X=[...X,{placement:o,overflows:it}],!it.every(st=>st<=0)){var gt,be;let st=(((gt=n.flip)==null?void 0:gt.index)||0)+1,ge=Lt[st];if(ge)return{data:{index:st,overflows:X},reset:{placement:ge}};let vt=(be=X.filter(ut=>ut.overflows[0]<=0).sort((ut,K)=>ut.overflows[1]-K.overflows[1])[0])==null?void 0:be.placement;if(!vt)switch(f){case"bestFit":{var me;let ut=(me=X.filter(K=>{if(I){let G=Q(K.placement);return G===x||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,ti)=>G+ti,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:me[0];ut&&(vt=ut);break}case"initialPlacement":vt=l;break}if(o!==vt)return{reset:{placement:vt}}}return{}}}};async function mi(i,t){let{placement:e,platform:s,elements:o}=i,n=await(s.isRTL==null?void 0:s.isRTL(o.floating)),r=U(e),l=dt(e),c=Q(e)==="y",u=["left","top"].includes(r)?-1:1,p=n&&c?-1:1,d=ft(t,i),{mainAxis:a,crossAxis:f,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&typeof b=="number"&&(f=l==="end"?b*-1:b),c?{x:f*p,y:a*u}:{x:a*u,y:f*p}}var Te=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(t){var e,s;let{x:o,y:n,placement:r,middlewareData:l}=t,c=await mi(t,i);return r===((e=l.offset)==null?void 0:e.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:o+c.x,y:n+c.y,data:{...c,placement:r}}}}},Pe=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(t){let{x:e,y:s,placement:o}=t,{mainAxis:n=!0,crossAxis:r=!1,limiter:l={fn:v=>{let{x:m,y:x}=v;return{x:m,y:x}}},...c}=ft(i,t),u={x:e,y:s},p=await Dt(t,c),d=Q(U(o)),a=Ut(d),f=u[a],b=u[d];if(n){let v=a==="y"?"top":"left",m=a==="y"?"bottom":"right",x=f+p[v],A=f-p[m];f=jt(x,f,A)}if(r){let v=d==="y"?"top":"left",m=d==="y"?"bottom":"right",x=b+p[v],A=b-p[m];b=jt(x,b,A)}let g=l.fn({...t,[a]:f,[d]:b});return{...g,data:{x:g.x-e,y:g.y-s}}}}};var Le=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(t){let{placement:e,rects:s,platform:o,elements:n}=t,{apply:r=()=>{},...l}=ft(i,t),c=await Dt(t,l),u=U(e),p=dt(e),d=Q(e)==="y",{width:a,height:f}=s.floating,b,g;u==="top"||u==="bottom"?(b=u,g=p===(await(o.isRTL==null?void 0:o.isRTL(n.floating))?"start":"end")?"left":"right"):(g=u,b=p==="end"?"top":"bottom");let v=f-c.top-c.bottom,m=a-c.left-c.right,x=$(f-c[b],v),A=$(a-c[g],m),_=!t.middlewareData.shift,S=x,I=A;if(d?I=p||_?$(A,m):m:S=p||_?$(x,v):v,_&&!p){let ct=P(c.left,0),it=P(c.right,0),X=P(c.top,0),gt=P(c.bottom,0);d?I=a-2*(ct!==0||it!==0?ct+it:P(c.left,c.right)):S=f-2*(X!==0||gt!==0?X+gt:P(c.top,c.bottom))}await r({...t,availableWidth:I,availableHeight:S});let Lt=await o.getDimensions(n.floating);return a!==Lt.width||f!==Lt.height?{reset:{rects:!0}}:{}}}};function nt(i){return Re(i)?(i.nodeName||"").toLowerCase():"#document"}function M(i){var t;return(i==null||(t=i.ownerDocument)==null?void 0:t.defaultView)||window}function z(i){var t;return(t=(Re(i)?i.ownerDocument:i.document)||window.document)==null?void 0:t.documentElement}function Re(i){return i instanceof Node||i instanceof M(i).Node}function F(i){return i instanceof Element||i instanceof M(i).Element}function W(i){return i instanceof HTMLElement||i instanceof M(i).HTMLElement}function Me(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof M(i).ShadowRoot}function bt(i){let{overflow:t,overflowX:e,overflowY:s,display:o}=D(i);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(o)}function Fe(i){return["table","td","th"].includes(nt(i))}function yt(i){return[":popover-open",":modal"].some(t=>{try{return i.matches(t)}catch{return!1}})}function Nt(i){let t=Wt(),e=F(i)?D(i):i;return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function De(i){let t=Y(i);for(;W(t)&&!rt(t);){if(Nt(t))return t;if(yt(t))return null;t=Y(t)}return null}function Wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rt(i){return["html","body","#document"].includes(nt(i))}function D(i){return M(i).getComputedStyle(i)}function _t(i){return F(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Y(i){if(nt(i)==="html")return i;let t=i.assignedSlot||i.parentNode||Me(i)&&i.host||z(i);return Me(t)?t.host:t}function Ne(i){let t=Y(i);return rt(t)?i.ownerDocument?i.ownerDocument.body:i.body:W(t)&&bt(t)?t:Ne(t)}function pt(i,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);let o=Ne(i),n=o===((s=i.ownerDocument)==null?void 0:s.body),r=M(o);if(n){let l=It(r);return t.concat(r,r.visualViewport||[],bt(o)?o:[],l&&e?pt(l):[])}return t.concat(o,pt(o,[],e))}function It(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function qe(i){let t=D(i),e=parseFloat(t.width)||0,s=parseFloat(t.height)||0,o=W(i),n=o?i.offsetWidth:e,r=o?i.offsetHeight:s,l=xt(e)!==n||xt(s)!==r;return l&&(e=n,s=r),{width:e,height:s,$:l}}function Gt(i){return F(i)?i:i.contextElement}function mt(i){let t=Gt(i);if(!W(t))return j(1);let e=t.getBoundingClientRect(),{width:s,height:o,$:n}=qe(t),r=(n?xt(e.width):e.width)/s,l=(n?xt(e.height):e.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}var gi=j(0);function Be(i){let t=M(i);return!Wt()||!t.visualViewport?gi:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vi(i,t,e){return t===void 0&&(t=!1),!e||t&&e!==M(i)?!1:t}function lt(i,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);let o=i.getBoundingClientRect(),n=Gt(i),r=j(1);t&&(s?F(s)&&(r=mt(s)):r=mt(i));let l=vi(n,e,s)?Be(n):j(0),c=(o.left+l.x)/r.x,u=(o.top+l.y)/r.y,p=o.width/r.x,d=o.height/r.y;if(n){let a=M(n),f=s&&F(s)?M(s):s,b=a,g=It(b);for(;g&&s&&f!==b;){let v=mt(g),m=g.getBoundingClientRect(),x=D(g),A=m.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,_=m.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,p*=v.x,d*=v.y,c+=A,u+=_,b=M(g),g=It(b)}}return ot({width:p,height:d,x:c,y:u})}function wi(i){let{elements:t,rect:e,offsetParent:s,strategy:o}=i,n=o==="fixed",r=z(s),l=t?yt(t.floating):!1;if(s===r||l&&n)return e;let c={scrollLeft:0,scrollTop:0},u=j(1),p=j(0),d=W(s);if((d||!d&&!n)&&((nt(s)!=="body"||bt(r))&&(c=_t(s)),W(s))){let a=lt(s);u=mt(s),p.x=a.x+s.clientLeft,p.y=a.y+s.clientTop}return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-c.scrollLeft*u.x+p.x,y:e.y*u.y-c.scrollTop*u.y+p.y}}function xi(i){return Array.from(i.getClientRects())}function Ve(i){return lt(z(i)).left+_t(i).scrollLeft}function Ai(i){let t=z(i),e=_t(i),s=i.ownerDocument.body,o=P(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),n=P(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),r=-e.scrollLeft+Ve(i),l=-e.scrollTop;return D(s).direction==="rtl"&&(r+=P(t.clientWidth,s.clientWidth)-o),{width:o,height:n,x:r,y:l}}function yi(i,t){let e=M(i),s=z(i),o=e.visualViewport,n=s.clientWidth,r=s.clientHeight,l=0,c=0;if(o){n=o.width,r=o.height;let u=Wt();(!u||u&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:n,height:r,x:l,y:c}}function _i(i,t){let e=lt(i,!0,t==="fixed"),s=e.top+i.clientTop,o=e.left+i.clientLeft,n=W(i)?mt(i):j(1),r=i.clientWidth*n.x,l=i.clientHeight*n.y,c=o*n.x,u=s*n.y;return{width:r,height:l,x:c,y:u}}function We(i,t,e){let s;if(t==="viewport")s=yi(i,e);else if(t==="document")s=Ai(z(i));else if(F(t))s=_i(t,e);else{let o=Be(i);s={...t,x:t.x-o.x,y:t.y-o.y}}return ot(s)}function He(i,t){let e=Y(i);return e===t||!F(e)||rt(e)?!1:D(e).position==="fixed"||He(e,t)}function Si(i,t){let e=t.get(i);if(e)return e;let s=pt(i,[],!1).filter(l=>F(l)&&nt(l)!=="body"),o=null,n=D(i).position==="fixed",r=n?Y(i):i;for(;F(r)&&!rt(r);){let l=D(r),c=Nt(r);!c&&l.position==="fixed"&&(o=null),(n?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||bt(r)&&!c&&He(i,r))?s=s.filter(p=>p!==r):o=l,r=Y(r)}return t.set(i,s),s}function ki(i){let{element:t,boundary:e,rootBoundary:s,strategy:o}=i,r=[...e==="clippingAncestors"?yt(t)?[]:Si(t,this._c):[].concat(e),s],l=r[0],c=r.reduce((u,p)=>{let d=We(t,p,o);return u.top=P(d.top,u.top),u.right=$(d.right,u.right),u.bottom=$(d.bottom,u.bottom),u.left=P(d.left,u.left),u},We(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ei(i){let{width:t,height:e}=qe(i);return{width:t,height:e}}function Ci(i,t,e){let s=W(t),o=z(t),n=e==="fixed",r=lt(i,!0,n,t),l={scrollLeft:0,scrollTop:0},c=j(0);if(s||!s&&!n)if((nt(t)!=="body"||bt(o))&&(l=_t(t)),s){let d=lt(t,!0,n,t);c.x=d.x+t.clientLeft,c.y=d.y+t.clientTop}else o&&(c.x=Ve(o));let u=r.left+l.scrollLeft-c.x,p=r.top+l.scrollTop-c.y;return{x:u,y:p,width:r.width,height:r.height}}function Kt(i){return D(i).position==="static"}function Ie(i,t){return!W(i)||D(i).position==="fixed"?null:t?t(i):i.offsetParent}function $e(i,t){let e=M(i);if(yt(i))return e;if(!W(i)){let o=Y(i);for(;o&&!rt(o);){if(F(o)&&!Kt(o))return o;o=Y(o)}return e}let s=Ie(i,t);for(;s&&Fe(s)&&Kt(s);)s=Ie(s,t);return s&&rt(s)&&Kt(s)&&!Nt(s)?e:s||De(i)||e}var Oi=async function(i){let t=this.getOffsetParent||$e,e=this.getDimensions,s=await e(i.floating);return{reference:Ci(i.reference,await t(i.floating),i.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Ti(i){return D(i).direction==="rtl"}var Pi={convertOffsetParentRelativeRectToViewportRelativeRect:wi,getDocumentElement:z,getClippingRect:ki,getOffsetParent:$e,getElementRects:Oi,getClientRects:xi,getDimensions:Ei,getScale:mt,isElement:F,isRTL:Ti};function Li(i,t){let e=null,s,o=z(i);function n(){var l;clearTimeout(s),(l=e)==null||l.disconnect(),e=null}function r(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),n();let{left:u,top:p,width:d,height:a}=i.getBoundingClientRect();if(l||t(),!d||!a)return;let f=At(p),b=At(o.clientWidth-(u+d)),g=At(o.clientHeight-(p+a)),v=At(u),x={rootMargin:-f+"px "+-b+"px "+-g+"px "+-v+"px",threshold:P(0,$(1,c))||1},A=!0;function _(S){let I=S[0].intersectionRatio;if(I!==c){if(!A)return r();I?r(!1,I):s=setTimeout(()=>{r(!1,1e-7)},1e3)}A=!1}try{e=new IntersectionObserver(_,{...x,root:o.ownerDocument})}catch{e=new IntersectionObserver(_,x)}e.observe(i)}return r(!0),n}function ze(i,t,e,s){s===void 0&&(s={});let{ancestorScroll:o=!0,ancestorResize:n=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Gt(i),p=o||n?[...u?pt(u):[],...pt(t)]:[];p.forEach(m=>{o&&m.addEventListener("scroll",e,{passive:!0}),n&&m.addEventListener("resize",e)});let d=u&&l?Li(u,e):null,a=-1,f=null;r&&(f=new ResizeObserver(m=>{let[x]=m;x&&x.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(a),a=requestAnimationFrame(()=>{var A;(A=f)==null||A.observe(t)})),e()}),u&&!c&&f.observe(u),f.observe(t));let b,g=c?lt(i):null;c&&v();function v(){let m=lt(i);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&e(),g=m,b=requestAnimationFrame(v)}return e(),()=>{var m;p.forEach(x=>{o&&x.removeEventListener("scroll",e),n&&x.removeEventListener("resize",e)}),d?.(),(m=f)==null||m.disconnect(),f=null,c&&cancelAnimationFrame(b)}}var je=Te;var Ue=Pe,Ye=Oe,Xe=Le;var Ke=(i,t,e)=>{let s=new Map,o={platform:Pi,...e},n={...o.platform,_c:s};return Ce(i,t,{...o,platform:n})};var N=class extends C{boot({options:t}){if(t({reference:null,auto:!0,position:"bottom start",gap:"5",offset:"0",matchWidth:!1}),this.options().reference===null||this.options().position===null)return;let[e,s]=Fi(this.el),o=Mi(this.el,this.options().reference,e,{position:this.options().position,gap:this.options().gap,offset:this.options().offset,matchWidth:this.options().matchWidth}),n=()=>{};this.reposition=(...r)=>{this.options().auto?n=ze(this.options().reference,this.el,o,{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0,animationFrame:!0}):o(...r)},this.cleanup=()=>{n(),s()}}};function Mi(i,t,e,{position:s,offset:o,gap:n,matchWidth:r}){return(l=null,c=null)=>{Ke(t,i,{placement:Ri(s),middleware:[Ye(),Ue({padding:5,crossAxis:!0}),je({mainAxis:Number(n),alignmentAxis:Number(o)}),r?Xe({apply({rects:u,elements:p}){Object.assign(p.floating.style,{width:`${u.reference.width}px`})}}):void 0]}).then(({x:u,y:p})=>{e(l||u,c||p)})}}function Ri(i){return i.split(" ").join("-")}function Fi(i){let t=(n,r)=>{Object.assign(i.style,{position:"absolute",inset:`${r}px auto auto ${n}px`})},e,s,o=new MutationObserver(()=>t(e,s));return[(n,r)=>{e=n,s=r,o.disconnect(),t(e,s),o.observe(i,{attributeFilter:["style"]})},()=>{o.disconnect()}]}var Zt=class extends k{boot(){let t=this.trigger(),e=this.overlay();if(t){if(!e)return console.warn("ui-dropdown: no [popover] overlay found",this)}else return console.warn("ui-dropdown: no trigger element found",this);this._disabled=this.hasAttribute("disabled"),this._controllable=new H(this),e._popoverable=new R(e),e._anchorable=new N(e,{reference:t,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),e._popoverable.onChange(()=>{e._popoverable.getState()?e._anchorable.reposition():e._anchorable.cleanup()}),this._controllable.initial(n=>e._popoverable.setState(n)),this._controllable.getter(()=>e._popoverable.getState());let s=J();this._controllable.setter(n=>e._popoverable.setState(n)),e._popoverable.onChange(s(()=>this._controllable.dispatch())),this.hasAttribute("hover")&&ht(t,e,{gain(){e._popoverable.setState(!0)},lose(){e._popoverable.setState(!1)},focusable:!0}),w(t,"click",()=>e._popoverable.toggle()),e._popoverable.getState()?(h(this,"data-open",""),h(t,"data-open",""),h(e,"data-open","")):(y(this,"data-open"),y(t,"data-open"),y(e,"data-open")),e._popoverable.onChange(()=>{e._popoverable.getState()?(h(this,"data-open",""),h(t,"data-open",""),h(e,"data-open","")):(y(this,"data-open"),y(t,"data-open"),y(e,"data-open"))});let o=B(e,"dropdown");h(t,"aria-haspopup","true"),h(t,"aria-controls",o),h(t,"aria-expanded",e._popoverable.getState()?"true":"false"),e._popoverable.onChange(()=>{h(t,"aria-expanded",e._popoverable.getState()?"true":"false")}),e._popoverable.onChange(()=>{e._popoverable.getState()?e.onPopoverShow?.():e.onPopoverHide?.()})}trigger(){return this.querySelector("button")}overlay(){return this.lastElementChild?.matches("[popover]")&&this.lastElementChild}};T("dropdown",Zt);var Jt=class extends k{boot(){let t=this.hasAttribute("label")?"label":"description",e=this.button(),s=this.overlay();if(e){if(!s)return}else return console.warn("ui-tooltip: no trigger element found",this);this._disabled=this.hasAttribute("disabled"),s._popoverable=new R(s),s._anchorable=new N(s,{reference:e,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),s._popoverable.onChange(()=>s._anchorable.reposition()),this._disabled||ht(e,s,{gain(){s._popoverable.setState(!0)},lose(){s._popoverable.setState(!1)},focusable:!0});let o=B(s,"tooltip");h(e,"aria-controls",o),h(e,"aria-expanded","false"),s._popoverable.onChange(()=>{s._popoverable.getState()?h(e,"aria-expanded","true"):h(e,"aria-expanded","false")}),t==="label"?h(e,"aria-labelledby",o):h(e,"aria-describedby",o),h(s,"role","tooltip")}button(){return this.firstElementChild}overlay(){return this.lastElementChild!==this.button()&&this.lastElementChild}};T("tooltip",Jt);var tt=class extends V{groupOfType=E;boot({options:t}){t({multiple:!1}),this.state=this.options().multiple?new Set:null,this.onChanges=[]}onInitAndChange(t){t(),this.onChanges.push(t)}onChange(t){this.onChanges.push(t)}changed(t,e=!1){if(t.ungrouped)return;let s=t.value,o=t.isSelected(),n=this.options().multiple;o?n?this.state.add(s):this.state=s:n?this.state.delete(s):this.state=null,e||this.onChanges.forEach(r=>r())}getState(){return this.options().multiple?Array.from(this.state):this.state}hasValue(t){return this.options().multiple?this.state.has(t):this.state===t}setState(t){t===null&&(t=this.multiple?[]:""),t=this.options().multiple?(t||[]).map(s=>s+""):t+"",this.state=this.options().multiple?new Set(t):t;let e=this.options().multiple?t:[t];this.walker().each(s=>{let o=s.use(E);if(o.ungrouped)return;let n=e.includes(o.value);n&&!o.isSelected()?o.surgicallySelect():!n&&o.isSelected()&&o.surgicallyDeselect()}),this.onChanges.forEach(s=>s())}selected(){return this.walker().find(t=>t.use(E).isSelected()).use(E)}selecteds(){return this.walker().filter(t=>t.use(E).isSelected()).map(t=>t.use(E))}selectFirst(){this.walker().first()?.use(E).select()}selectAll(){this.walker().filter(t=>!t.use(E).isSelected()).map(t=>t.use(E).select())}deselectAll(){this.walker().filter(t=>t.use(E).isSelected()).map(t=>t.use(E).deselect())}allAreSelected(){return this.walker().filter(t=>t.use(E).isSelected()).length===this.walker().filter(t=>!0).length}noneAreSelected(){return this.state===null||this.state?.size===0}selectableByValue(t){return this.walker().find(e=>e.use(E).value===t)?.use(E)}deselectOthers(t){this.walker().each(e=>{e!==t&&e.use(E).surgicallyDeselect()})}selectedTextValue(){return this.options().multiple?Array.from(this.state).map(t=>this.convertValueStringToElementText(t)).join(", "):this.convertValueStringToElementText(this.state)}convertValueStringToElementText(t){let e=this.findByValue(t);return e?e.label||e.value:t}findByValue(t){return this.selecteds().find(e=>e.value===t)}walker(){return q(this.el,(t,{skip:e,reject:s})=>{if(t[this.constructor.name]&&t!==this.el)return s();if(!t[this.groupOfType.name]||t.mixins.get(this.groupOfType.name).ungrouped)return e()})}},E=class extends C{boot({options:t}){this.groupedByType=tt,t({ungrouped:!1,togglable:!1,value:void 0,label:void 0,selectedInitially:!1,dataAttr:"data-selected",ariaAttr:"aria-selected"}),this.ungrouped=this.options().ungrouped,this.value=this.options().value===void 0?this.el.value:this.options().value,this.value=this.value+"",this.label=this.options().label;let e=this.options().selectedInitially;this.group()&&this.group().hasValue(this.value)&&(e=!0),this.multiple=this.hasGroup()?this.group().options().multiple:!1,this.toggleable=this.options().toggleable||this.multiple,this.onSelects=[],this.onUnselects=[],this.onChanges=[],e?this.select(!0):(this.state=e,this.surgicallyDeselect(!0))}mount(){this.el.hasAttribute(this.options().ariaAttr)||h(this.el,this.options().ariaAttr,"false")}onChange(t){this.onChanges.push(t)}onSelect(t){this.onSelects.push(t)}onUnselect(t){this.onUnselects.push(t)}setState(t){t?this.select():this.deselect()}getState(){return this.state}press(){this.toggleable?this.toggle():this.select()}trigger(){this.toggleable?this.toggle():this.select()}toggle(){this.isSelected()?this.deselect():this.select()}isSelected(){return this.state}select(t=!1){let e=!this.isSelected();this.toggleable||this.group()?.deselectOthers(this.el),this.state=!0,h(this.el,this.options().ariaAttr,"true"),h(this.el,this.options().dataAttr,""),e&&(t||(this.onSelects.forEach(s=>s()),this.onChanges.forEach(s=>s())),this.group()?.changed(this,t))}surgicallySelect(){let t=!this.isSelected();this.state=!0,h(this.el,this.options().ariaAttr,"true"),h(this.el,this.options().dataAttr,""),t&&(this.onSelects.forEach(e=>e()),this.onChanges.forEach(e=>e()))}deselect(t=!0){let e=this.isSelected();this.state=!1,h(this.el,this.options().ariaAttr,"false"),y(this.el,this.options().dataAttr),e&&(this.onUnselects.forEach(s=>s()),this.onChanges.forEach(s=>s()),t&&this.group()?.changed(this))}surgicallyDeselect(t=!1){let e=this.isSelected();this.state=!1,h(this.el,this.options().ariaAttr,"false"),y(this.el,this.options().dataAttr),e&&!t&&(this.onUnselects.forEach(s=>s()),this.onChanges.forEach(s=>s()))}getValue(){return this.value}getLabel(){return this.label}};var St=class extends V{groupOfType=L;boot({options:t}){t({wrap:!1,ensureTabbable:!0})}mount(){this.options().ensureTabbable&&this.ensureTabbable()}focusFirst(){let t;t=t||this.walker().find(e=>e.hasAttribute("autofocus")),t=t||this.walker().find(e=>e.getAttribute("tabindex")==="0"),t=t||this.walker().find(e=>e.getAttribute("tabindex")==="-1"),t=t||this.walker().find(e=>we(e)),t?.focus()}focusPrev(){this.moveFocus(t=>this.options().wrap?this.walker().prevOrLast(t):this.walker().prev(t))}focusNext(){this.moveFocus(t=>this.options().wrap?this.walker().nextOrFirst(t):this.walker().next(t))}focusBySearch(t){let e=this.walker().find(s=>s.textContent.toLowerCase().trim().startsWith(t.toLowerCase()));e?.use(L).tabbable(),e?.use(L).focus()}moveFocus(t){let e=this.walker().find(o=>o.use(L).isTabbable());t(e)?.use(L).focus()}ensureTabbable(){this.walker().findOrFirst(t=>{t.use(L).isTabbable()})?.use(L).tabbable()}wipeTabbables(){this.walker().each(t=>{t.use(L).untabbable()})}untabbleOthers(t){this.walker().each(e=>{e!==t&&e.use(L).untabbable()})}walker(){return q(this.el,(t,{skip:e,reject:s})=>{if(t[this.constructor.name]&&t!==this.el)return s();if(!t[this.groupOfType.name])return e();if(t.hasAttribute("disabled"))return s()})}},L=class extends C{groupedByType=St;boot({options:t}){t({hover:!1,disableable:null,tabbable:!1,tabbableAttr:null})}mount(){let t=this.options().disableable;if(!t)throw"Focusable requires a Disableable instance...";this.el.hasAttribute("tabindex")||(this.options().tabbable?this.tabbable():this.untabbable()),this.pauseFocusListener=this.on("focus",t.enabled(()=>{this.focus(!1)})).pause,this.on("focus",t.enabled(()=>{$t()&&h(this.el,"data-focus","")})),this.on("blur",t.enabled(()=>{y(this.el,"data-focus")})),this.options().hover&&this.on("pointerenter",t.enabled(()=>{this.group()?.untabbleOthers(this.el),this.tabbable()})),this.options().hover&&this.on("pointerleave",t.enabled(e=>{this.untabbable()}))}focus(t=!0){this.group()?.untabbleOthers(this.el),this.tabbable(),t&&this.pauseFocusListener(()=>{this.el.focus({focusVisible:!1})})}tabbable(){h(this.el,"tabindex","0"),this.options().tabbableAttr&&h(this.el,this.options().tabbableAttr,"")}untabbable(){h(this.el,"tabindex","-1"),this.options().tabbableAttr&&y(this.el,this.options().tabbableAttr)}isTabbable(){return this.el.getAttribute("tabindex")==="0"}};var et=class extends C{boot({options:t}){this.onChanges=[],Object.defineProperty(this.el,"disabled",{get:()=>this.el.hasAttribute("disabled"),set:s=>{s?this.el.setAttribute("disabled",""):this.el.removeAttribute("disabled")}}),this.el.hasAttribute("disabled")?this.el.disabled=!0:this.el.closest("[disabled]")&&(this.el.disabled=!0),new MutationObserver(s=>{this.onChanges.forEach(o=>o(this.el.disabled))}).observe(this.el,{attributeFilter:["disabled"]})}onChange(t){this.onChanges.push(t)}onInitAndChange(t){t(this.el.disabled),this.onChanges.push(t)}enabled(t){return(...e)=>{if(!this.el.disabled)return t(...e)}}disabled(t){return(...e)=>{if(this.el.disabled)return t(...e)}}};var kt=class extends V{groupOfType=O;boot({options:t}){t({wrap:!1,filter:!1}),this.onChanges=[]}onChange(t){this.onChanges.push(t)}activated(t){this.onChanges.forEach(e=>e())}activateFirst(){this.filterAwareWalker().first()?.use(O).activate()}activateSelectedOrFirst(t){if(!t||(s=>s.matches("ui-option")?getComputedStyle(s).display==="none":!1)(t)){this.filterAwareWalker().first()?.use(O).activate();return}t?.use(O).activate()}activateActiveOrFirst(){let t=this.getActive();if(!t){this.filterAwareWalker().first()?.use(O).activate();return}t?.use(O).activate()}activateActiveOrLast(){let t=this.getActive();if(!t){this.filterAwareWalker().last()?.use(O).activate();return}t?.use(O).activate()}activatePrev(){let t=this.getActive();if(!t){this.filterAwareWalker().last()?.use(O).activate();return}let e;this.options.wrap?e=this.filterAwareWalker().prevOrLast(t):e=this.filterAwareWalker().prev(t),e?.use(O).activate()}activateNext(){let t=this.getActive();if(!t){this.filterAwareWalker().first()?.use(O).activate();return}let e;this.options.wrap?e=this.filterAwareWalker().nextOrFirst(t):e=this.filterAwareWalker().next(t),e?.use(O).activate()}getActive(){return this.walker().find(t=>t.use(O).isActive())}clearActive(){this.getActive()?.use(O).deactivate()}filterAwareWalker(){let t=e=>e.matches("ui-option")?getComputedStyle(e).display==="none":!1;return q(this.el,(e,{skip:s,reject:o})=>{if(e[this.constructor.name]&&e!==this.el)return o();if(!e[this.groupOfType.name])return s();if(e.hasAttribute("disabled")||t(e))return o()})}},O=class i extends C{groupedByType=kt;mount(){this.el.addEventListener("mouseenter",()=>{this.activate()}),this.el.addEventListener("mouseleave",()=>{this.deactivate()})}activate(){this.group()&&this.group().walker().each(t=>t.use(i).deactivate(!1)),h(this.el,"data-active",""),this.el.scrollIntoView({block:"nearest"}),this.group()&&this.group().activated(this.el)}deactivate(t=!0){y(this.el,"data-active"),t&&this.group()&&this.group().activated(this.el)}isActive(){return this.el.hasAttribute("data-active")}};var Et=class extends V{groupOfType=at;boot({options:t}){t({}),this.onChanges=[],this.lastSearch=""}onChange(t){this.onChanges.push(t)}filter(t){t===""?this.walker().each(e=>{e.use(at).unfilter()}):this.walker().each(e=>{this.matches(e,t)?e.use(at).unfilter():e.use(at).filter()}),this.lastSearch!==t&&this.onChanges.forEach(e=>e()),this.lastSearch=t}matches(t,e){return t.textContent.toLowerCase().trim().includes(e.toLowerCase().trim())}hasResults(){return this.walker().some(t=>!t.use(at).isFiltered())}},at=class extends C{groupedByType=Et;boot({options:t}){t({mirror:null,keep:!1}),this.onChanges=[]}filter(){this.options().keep||(h(this.el,"data-hidden",""),this.options().mirror&&h(this.options().mirror,"data-hidden",""))}unfilter(){y(this.el,"data-hidden"),this.options().mirror&&y(this.options().mirror,"data-hidden","")}isFiltered(){return this.el.hasAttribute("data-hidden")}};var qt=class extends k{boot(){if(!this.querySelector("template")){let t=document.createElement("template");t.setAttribute("name","placeholder"),t.innerHTML="<span>"+this.innerHTML+"</span>",this.innerHTML="",this.appendChild(t)}if(!this.querySelector('template[name="options"]')){let t=document.createElement("template");t.setAttribute("name","options"),t.innerHTML="<div><slot></slot></div>",this.appendChild(t)}if(!this.querySelector('template[name="option"]')){let t=document.createElement("template");t.setAttribute("name","option"),t.innerHTML="<div><slot></slot></div>",this.appendChild(t)}this.templates={placeholder:this.querySelector('template[name="placeholder"]'),overflow:this.querySelector('template[name="overflow"]'),options:this.querySelector('template[name="options"]'),option:this.querySelector('template[name="option"]')},this.templates.options.elsByValue=new Map,this.max=this.templates.overflow?.getAttribute("max")?this.templates.overflow.getAttribute("max"):1/0,this.selecteds=new Map,this.picker=this.closest("ui-select"),this.multiple=this.picker.hasAttribute("multiple")}mount(){queueMicrotask(()=>{this.picker._selectable.onInitAndChange(()=>{let e=!0;this.render(!0)});let t=this.picker.list();t&&new MutationObserver(e=>{queueMicrotask(()=>this.render())}).observe(t,{childList:!0})})}render(t){if(this.multiple){let e=this.picker.value,s=Array.from(this.selecteds.keys()).filter(r=>!e.includes(r)),o=e.filter(r=>!this.selecteds.has(r));s.forEach(r=>this.selecteds.delete(r));let n=new Map;for(let r of o){let l=this.picker._selectable.findByValue(r);if(!l){if(t)return setTimeout(()=>this.render());throw`Could not find option for value "${r}"`}n.set(r,l)}n.forEach((r,l)=>this.selecteds.set(l,r)),this.templates.placeholder?.clearPlaceholder?.(),this.templates.overflow?.clearOverflow?.(),this.templates.options?.clearOptions?.(),this.selecteds.size>0?this.renderOptions({hasOverflowed:r=>{if(this.max==="auto"){let l=!1;if(this.renderOverflow(this.selecteds.size,this.selecteds.size-r),this.clientWidth<this.scrollWidth&&(l=!0),this.templates.overflow?.clearOverflow?.(),l)return!0}return r>parseInt(this.max)},renderOverflow:r=>{this.templates?.overflow?.getAttribute("mode")!=="append"&&this.templates.options?.clearOptions?.(),this.renderOverflow(this.selecteds.size,r)}}):this.renderPlaceholder()}else{let e=this.picker.value;if(Array.from(this.selecteds.keys()).includes(e))return;if(this.selecteds.clear(),!["",null,void 0].includes(e)){let s=this.picker._selectable.findByValue(e);if(!s){if(t)return setTimeout(()=>{console.log("retrying..."),this.render()});throw`Could not find option for value "${e}"`}this.selecteds.set(e,s)}this.templates.placeholder?.clearPlaceholder?.(),this.templates.option?.clearOption?.(),this.selecteds.size>0?this.renderOption():this.renderPlaceholder()}}renderOptions({hasOverflowed:t,renderOverflow:e}){let s=document.createElement("div");s.style.display="contents";let o=Ct(this.templates.options,{default:s});this.templates.options.after(o),this.templates.options.clearOptions=()=>{o.remove(),this.templates.options.clearOptions=()=>{}};let n=0,r=!1;for(let[c,u]of this.selecteds){let p=new DocumentFragment;p.append(...u.el.cloneNode(!0).childNodes);let d=Ct(this.templates.option,{text:u.el.textContent.trim(),default:p,value:c});if(d.setAttribute("data-value",c),d.deselect=()=>u.deselect(),s.appendChild(d),n++,t(n)){r=!0,s.removeChild(d),n--;break}}let l=new DocumentFragment;l.append(...s.childNodes),s.replaceWith(l),r&&e(this.selecteds.size-n)}renderOption(){for(let[t,e]of this.selecteds){let s=new DocumentFragment;s.append(...e.el.cloneNode(!0).childNodes);let o=Ct(this.templates.option,{text:e.el.textContent.trim(),default:s,value:t});o.setAttribute("data-value",t),o.deselect=()=>e.deselect(),this.templates.option.after(o),this.templates.option.clearOption=()=>{o.remove(),this.templates.option.clearOption=()=>{}}}}renderPlaceholder(){if(!this.templates.placeholder)return;let t=Ct(this.templates.placeholder);this.templates.placeholder.after(t),this.templates.placeholder.clearPlaceholder=()=>{t.remove(),this.templates.placeholder.clearPlaceholder=()=>{}}}renderOverflow(t,e){if(!this.templates.overflow)return;let s=Ct(this.templates.overflow,{remainder:e,count:this.selecteds.size});this.templates.overflow.after(s),this.templates.overflow.clearOverflow=()=>{s.remove(),this.templates.placeholder.clearOverflow=()=>{}}}};function Ct(i,t={}){let e=i.content.cloneNode(!0);return Object.entries(t).forEach(([s,o])=>{(s==="default"?e.querySelectorAll("slot:not([name])"):e.querySelectorAll(`slot[name="${s}"]`)).forEach(r=>r.replaceWith(typeof o=="string"?document.createTextNode(o):o))}),e.firstElementChild}var Pt=class extends Rt{boot(){let t=this.list();this._controllable=new H(this),this._selectable=new tt(t,{multiple:this.hasAttribute("multiple")}),this._controllable.initial(s=>s&&this._selectable.setState(s)),this._controllable.getter(()=>this._selectable.getState());let e=J();this._controllable.setter(e(s=>{this._selectable.setState(s)})),this._selectable.onChange(e(()=>{this._controllable.dispatch(),this.dispatchEvent(new CustomEvent("select",{bubbles:!1}))}))}mount(){this._disableable=new et(this);let t=this.input(),e=this.button(),s=this.trigger(),o=this.list(),n=this.overlay(),r=this.hasAttribute("multiple"),l=this.hasAttribute("autocomplete"),c=this.hasAttribute("autocomplete")&&this.getAttribute("autocomplete").trim().split(" ").includes("strict"),u=this.querySelector("ui-options")||this,p=Di(u,"options");if(this._activatable=new kt(u,{filter:"data-hidden"}),!t&&!e&&this._disableable.onInitAndChange(a=>{a?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}),this.hasAttribute("filter")&&this.getAttribute("filter")!=="manual"&&(this._filterable=new Et(o),this._filterable.onChange(()=>{this._activatable.clearActive(),this._filterable.hasResults()&&this._activatable.activateFirst()}),this.addEventListener("close",()=>{this._filterable&&this._filterable.filter("")})),!this.querySelector("[popover], input"))Ot(this,this._activatable),Tt(this,this,this._activatable),Ge(this,this._activatable,this._selectable);else if(!this.querySelector("[popover]")&&this.querySelector("input")){let a=this.querySelector("input");this._disableable.onInitAndChange(f=>{f?a&&h(a,"disabled",""):a&&y(a,"disabled")}),ne(this,a,this._selectable,this._popoverable),Ge(a,this._activatable,this._selectable),Qe(l,c,this,a,this._selectable,this._popoverable),oe(a),se(a),this._filterable&&ie(a,this._filterable),Je(a,this._activatable),Ot(a,this._activatable),Tt(this,a,this._activatable),Bt(this,this._activatable)}else if(this.querySelector("[popover]")&&this.querySelector("input:not([popover] input)")){let a=this.querySelector("input:not([popover] input)");h(a,"role","combobox"),h(a,"aria-controls",p);let f=this.querySelector("[popover]");this._popoverable=new R(f),this._anchorable=new N(f,{reference:a,matchWidth:!0,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),Qe(l,c,this,a,this._selectable,this._popoverable),this._disableable.onInitAndChange(b=>{b?a&&h(a,"disabled",""):a&&y(a,"disabled")}),this.querySelectorAll("button:not([popover] button)").forEach(b=>{h(b,"tabindex","-1"),h(b,"aria-controls",p),h(b,"aria-haspopup","listbox"),Vt(b,this._popoverable),w(b,"click",()=>{this._popoverable.toggle(),a.focus()})}),ne(this,a,this._selectable,this._popoverable),Qt(this,a,f,this._popoverable,this._anchorable),Vt(a,this._popoverable),oe(a),se(a),this._filterable&&ie(a,this._filterable),Je(a,this._activatable),Ii(a,this._popoverable),ee(a,this._popoverable,this._activatable,this._selectable),Ni(a,this._popoverable),Ot(a,this._activatable),Tt(this,a,this._activatable),Bt(this,this._activatable),te(this._popoverable,this._activatable,this._selectable),re(this,this._selectable,this._popoverable,r)}else if(this.querySelector("[popover]")&&this.querySelector("[popover] input")){let a;CSS.supports("selector(&)")?a=this.querySelector("button:not(& [popover] button)"):a=this.querySelector("button:not([popover] button)");let f=this.querySelector("[popover] input"),b=this.querySelector("[popover]");h(a,"role","combobox"),h(f,"role","combobox"),h(a,"aria-controls",p),this._disableable.onInitAndChange(g=>{g?(a&&h(a,"disabled",""),f&&h(f,"disabled","")):(a&&y(a,"disabled"),f&&y(f,"disabled"))}),this._popoverable=new R(b),this._anchorable=new N(b,{reference:a,matchWidth:!0,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),oe(f),se(f),this._filterable&&ie(f,this._filterable),Wi(a,f,this._popoverable),Qt(this,a,b,this._popoverable,this._anchorable),Vt(a,this._popoverable),ne(this,f,this._selectable,this._popoverable),ee(a,this._popoverable,this._activatable,this._selectable),Ze(a,this._popoverable),Ot(f,this._activatable),Tt(this,f,this._activatable),Bt(this,this._activatable),te(this._popoverable,this._activatable,this._selectable),re(this,this._selectable,this._popoverable,r)}else if(this.querySelector("[popover]")){let a=this.querySelector("button:not([popover] button)"),f=this.querySelector("[popover]");h(a,"role","combobox"),h(a,"aria-controls",p),this._disableable.onInitAndChange(b=>{b?(a&&h(a,"disabled",""),t&&h(t,"disabled","")):(a&&y(a,"disabled"),t&&y(t,"disabled"))}),this._popoverable=new R(f),this._anchorable=new N(f,{reference:a,matchWidth:!0,position:this.hasAttribute("position")?this.getAttribute("position"):void 0,gap:this.hasAttribute("gap")?this.getAttribute("gap"):void 0,offset:this.hasAttribute("offset")?this.getAttribute("offset"):void 0}),Qt(this,a,f,this._popoverable,this._anchorable),Vt(a,this._popoverable),ee(a,this._popoverable,this._activatable,this._selectable),Ze(a,this._popoverable),Ot(a,this._activatable),Tt(this,a,this._activatable),Bt(this,this._activatable),te(this._popoverable,this._activatable,this._selectable),re(this,this._selectable,this._popoverable,r)}new MutationObserver(a=>{setTimeout(()=>{if(!this._popoverable||this._popoverable.getState()){let f=this._selectable.selecteds()[0]?.el;queueMicrotask(()=>{this._activatable.activateSelectedOrFirst(f)})}else this._activatable.clearActive()})}).observe(o,{childList:!0})}button(){return this.querySelector("button:has(+ [popover])")}trigger(){return this.querySelector("input, button")}input(){return this.querySelector("input")}list(){return this.querySelector("ui-options")||this}overlay(){return this.querySelector("[popover]")}clear(){this.input()&&(this.input().value="",this.input().dispatchEvent(new Event("input",{bubbles:!1})))}open(){this._popoverable.setState(!0)}close(){this._popoverable.setState(!1)}deselectLast(){!this.hasAttribute("multiple")&&this.value!==null&&(this.value=null,this.dispatchEvent(new Event("input",{bubbles:!1})),this.dispatchEvent(new Event("change",{bubbles:!1}))),this.hasAttribute("multiple")&&this.value.length!==0&&(this.value=this.value.slice(0,-1),this.dispatchEvent(new Event("input",{bubbles:!1})),this.dispatchEvent(new Event("change",{bubbles:!1})))}},le=class extends k{boot(){h(this,"data-hidden","")}mount(){queueMicrotask(()=>{let t=this.closest("ui-autocomplete, ui-combobox, ui-select"),e=this.closest("ui-options");if(!e)return;let s=l=>getComputedStyle(l).display==="none",o=()=>{let l;CSS.supports("selector(&)")?l=Array.from(e.querySelectorAll("& > ui-option")).filter(c=>!s(c)).length===0:l=Array.from(e.querySelectorAll(":scope > ui-option")).filter(c=>!s(c)).length===0,l?y(this,"data-hidden"):h(this,"data-hidden","")};o();let n=t._filterable;n&&n.onChange(o),new MutationObserver(l=>{setTimeout(()=>o())}).observe(e,{childList:!0})})}};T("selected",qt);T("select",Pt);T("empty",le);Z(({css:i})=>i`ui-select { display: block; }`);Z(({css:i})=>i`ui-selected-option { display: contents; }`);Z(({css:i})=>i`ui-empty { display: block; cursor: default; }`);function Ot(i,t){w(i,"keydown",e=>{["ArrowDown","ArrowUp","Escape"].includes(e.key)&&(e.key==="ArrowDown"?(t.activateNext(),e.preventDefault(),e.stopPropagation()):e.key==="ArrowUp"&&(t.activatePrev(),e.preventDefault(),e.stopPropagation()))})}function Tt(i,t,e){w(t,"keydown",s=>{if(s.key==="Enter"){let o=e.getActive();if(s.preventDefault(),s.stopPropagation(),!o)return;o.click(),i.dispatchEvent(new CustomEvent("action",{bubbles:!1,cancelable:!1}))}})}function Bt(i,t,e=!1){w(i,e?"pointerdown":"click",s=>{if(s.target.closest("ui-option")){let o=s.target.closest("ui-option");if(o._disabled)return;o._selectable?.trigger(),i.dispatchEvent(new CustomEvent("action",{bubbles:!1,cancelable:!1})),s.preventDefault(),s.stopPropagation()}})}function Ge(i,t,e){w(i,"focus",()=>{let s=e.selecteds()[0]?.el;t.activateSelectedOrFirst(s)}),w(i,"blur",()=>{t.clearActive()})}function Di(i){let t=B(i,"options");return h(i,"role","listbox"),t}function Vt(i,t){h(i,"aria-haspopup","listbox");let e=()=>{h(i,"aria-expanded",t.getState()?"true":"false"),t.getState()?h(i,"data-open",""):y(i,"data-open","")};t.onChange(()=>{e()}),e()}function Qt(i,t,e,s,o){let n=()=>{Array.from([i,e]).forEach(r=>{s.getState()?h(r,"data-open",""):y(r,"data-open","")}),s.getState()&&o.reposition()};s.onChange(()=>n()),n(),s.onChange(()=>{s.getState()?i.dispatchEvent(new Event("open",{bubbles:!1,cancelable:!1})):i.dispatchEvent(new Event("close",{bubbles:!1,cancelable:!1}))})}function te(i,t,e){i.onChange(()=>{if(i.getState()){let s=e.selecteds()[0]?.el;queueMicrotask(()=>{t.activateSelectedOrFirst(s)})}else t.clearActive()})}function ee(i,t,e,s){w(i,"keydown",o=>{["ArrowDown","ArrowUp","Escape"].includes(o.key)&&(o.key==="ArrowDown"||o.key==="ArrowUp"?t.getState()||(t.setState(!0),o.preventDefault(),o.stopImmediatePropagation()):o.key==="Escape"&&t.getState()&&t.setState(!1))})}function Ni(i,t){w(i,"click",()=>{t.getState()||(t.setState(!0),i.focus())})}function Ze(i,t){w(i,"click",()=>{t.setState(!t.getState()),i.focus()})}function Wi(i,t,e){e.onChange(()=>{e.getState()&&setTimeout(()=>t.focus())})}function ie(i,t){t&&w(i,"input",e=>{t.filter(e.target.value)})}function se(i){w(i,"focus",()=>i.select())}function oe(i){w(i,"change",t=>t.stopPropagation()),w(i,"input",t=>t.stopPropagation())}function Ii(i,t){w(i,"keydown",e=>{(/^[a-zA-Z0-9]$/.test(e.key)||e.key==="Backspace")&&(t.getState()||t.setState(!0))})}function ne(i,t,e,s){if(!i.hasAttribute("clear"))return;let n=d=>{t.value=d,t.dispatchEvent(new Event("input",{bubbles:!1}))},r=i.getAttribute("clear"),l=r===""||r.split(" ").includes("action"),c=r===""||r.split(" ").includes("select"),u=r===""||r.split(" ").includes("close"),p=r===""||r.split(" ").includes("esc");r==="none"&&(l=c=u=p=!1),l?i.addEventListener("action",d=>{n("")}):c&&e.onChange(()=>{queueMicrotask(()=>n(""))}),u&&s.onChange(()=>{s.getState()||n("")}),p&&w(t,"keydown",d=>{d.key==="Escape"&&n("")})}function re(i,t,e,s){let o=!s,n=!s;if(i.hasAttribute("close")){let r=i.getAttribute("close");o=r===""||r.split(" ").includes("action"),n=r.split(" ").includes("select"),r==="none"&&(o=n=!1)}o?i.addEventListener("action",r=>{e.setState(!1)}):n&&t.onChange(()=>{e.setState(!1)})}function Je(i,t){t.onChange(()=>{let e=t.getActive();e?h(i,"aria-activedescendant",e.id):y(i,"aria-activedescendant")})}function Qe(i,t,e,s,o,n){if(!i){h(s,"autocomplete","off"),h(s,"aria-autocomplete","none");return}let r=l=>{s.value=l,s.dispatchEvent(new Event("input",{bubbles:!1}))};h(s,"autocomplete","off"),h(s,"aria-autocomplete","list"),queueMicrotask(()=>{o.onInitAndChange(()=>{s.value=o.selectedTextValue()})}),e.addEventListener("action",l=>{r(o.selectedTextValue())}),t&&n.onChange(()=>{n.getState()||r(o.selectedTextValue())})}var ae=class i extends k{boot(){if(this._focusable=new St(this,{wrap:!1,ensureTabbable:!1}),w(this,"keydown",t=>{["ArrowDown"].includes(t.key)?(t.target===this?this._focusable.focusFirst():this._focusable.focusNext(),t.preventDefault(),t.stopPropagation()):["ArrowUp"].includes(t.key)&&(t.target===this?this._focusable.focusFirst():this._focusable.focusPrev(),t.preventDefault(),t.stopPropagation())}),xe(this,t=>this._focusable.focusBySearch(t)),this.hasAttribute("popover")&&this.addEventListener("lofi-close-popovers",()=>{setTimeout(()=>this.hidePopover(),50)}),this.parentElement.localName==="ui-dropdown"){let t=this.parentElement;w(t.trigger(),"keydown",e=>{e.key==="ArrowDown"&&(this.fromArrowDown=!0,this.showPopover(),e.preventDefault(),e.stopPropagation())})}h(this,"role","menu"),h(this,"tabindex","-1")}mount(){this.initializeMenuItems(),new MutationObserver(e=>{this.initializeMenuItems()}).observe(this,{childList:!0,subtree:!0})}onPopoverShow(){queueMicrotask(()=>{this.fromArrowDown?(this._focusable.focusFirst(),this.fromArrowDown=!1):this.focus()})}onPopoverHide(){this._focusable.wipeTabbables()}initializeMenuItems(){this.walker().each(t=>{t._disableable||qi(t)})}walker(){return q(this,(t,{skip:e,reject:s})=>{if(t instanceof i||t instanceof Pt)return s();if(!["a","button"].includes(t.localName))return e()})}},ce=class extends k{boot(){}},ue=class extends k{boot(){this._disabled=this.hasAttribute("disabled"),this._disableable=new et(this);let t=this;this._disabled&&(h(t,"disabled",""),h(t,"aria-disabled","true"));let e=B(t,"menu-checkbox");if(h(t,"role","menuitemcheckbox"),this._disabled)return;t._focusable=new L(t,{disableable:this._disableable,hover:!0,tabbableAttr:"data-active"}),t._selectable=new E(t,{toggleable:!0,value:this.hasAttribute("value")?this.getAttribute("value"):t.textContent.trim(),label:this.hasAttribute("label")?this.getAttribute("label"):t.textContent.trim(),dataAttr:"data-checked",ariaAttr:"aria-checked",selectedInitially:this.hasAttribute("checked")}),this._controllable=new H(this),this._controllable.initial(o=>o&&t._selectable.setState(o)),this._controllable.getter(()=>t._selectable.getState());let s=J();this._controllable.setter(s(o=>{this._selectable.setState(o)})),this._selectable.onChange(s(()=>{this._controllable.dispatch()})),w(t,"click",()=>{this.dispatchEvent(new CustomEvent("lofi-close-popovers",{bubbles:!0})),t._selectable.press()}),pe(t)}},he=class extends k{boot(){this._disabled=this.hasAttribute("disabled"),this._disableable=new et(this);let t=this;this._disabled&&(h(t,"disabled",""),h(t,"aria-disabled","true"));let e=B(t,"menu-radio");h(t,"role","menuitemradio"),!this._disabled&&(t._focusable=new L(t,{disableable:this._disableable,hover:!0,tabbableAttr:"data-active"}),t._selectable=new E(t,{toggleable:!1,value:this.hasAttribute("value")?this.getAttribute("value"):t.textContent.trim(),label:this.hasAttribute("label")?this.getAttribute("label"):t.textContent.trim(),dataAttr:"data-checked",ariaAttr:"aria-checked",selectedInitially:this.hasAttribute("checked")}),w(t,"click",()=>{this.dispatchEvent(new CustomEvent("lofi-close-popovers",{bubbles:!0})),t._selectable.press()}),pe(t))}},fe=class extends k{boot(){this._selectable=new tt(this),this._controllable=new H(this),h(this,"role","group"),this._controllable.initial(e=>e&&this._selectable.setState(e)),this._controllable.getter(()=>this._selectable.getState());let t=J();this._controllable.setter(t(e=>{this._selectable.setState(e)})),this._selectable.onChange(t(()=>{this._controllable.dispatch()}))}},de=class extends k{boot(){this._selectable=new tt(this,{multiple:!0}),this._controllable=new H(this),h(this,"role","group"),this._controllable.initial(e=>e&&this._selectable.setState(e)),this._controllable.getter(()=>this._selectable.getState());let t=J();this._controllable.setter(t(e=>{this._selectable.setState(e)})),this._selectable.onChange(t(()=>{this._controllable.dispatch()}))}};Z(({css:i})=>i`ui-menu[popover]:popover-open { display: block; }`);Z(({css:i})=>i`ui-menu[popover].\:popover-open { display: block; }`);Z(({css:i})=>i`ui-menu-checkbox, ui-menu-radio { cursor: default; display: contents; }`);T("menu",ae);T("submenu",ce);T("menu-checkbox",ue);T("menu-radio",he);T("menu-radio-group",fe);T("menu-checkbox-group",de);function pe(i){w(i,"keydown",t=>{t.key==="Enter"&&(i.click(),t.preventDefault(),t.stopPropagation())}),w(i,"keydown",t=>{t.key===" "&&(t.preventDefault(),t.stopPropagation())}),w(i,"keyup",t=>{t.key===" "&&(i.click(),t.preventDefault(),t.stopPropagation())})}function qi(i){i._disableable=new et(i),i._disabled=i.hasAttribute("disabled");let t=i.querySelector("a"),e=i,s=i.parentElement.matches("ui-submenu")&&i.parentElement.querySelector("ui-menu[popover]"),o=t||e;i._disabled&&(h(o,"disabled",""),h(o,"aria-disabled","true"));let n=B(o,"menu-item");if(h(o,"role","menuitem"),!i._disabled)if(o._focusable=new L(o,{disableable:i._disableable,hover:!0,tabbableAttr:"data-active"}),!s)i.hasAttribute("disabled")||w(i,"click",()=>{i.dispatchEvent(new CustomEvent("lofi-close-popovers",{bubbles:!0}))}),pe(e);else{s._popoverable=new R(s,{trigger:e}),s._anchorable=new N(s,{reference:e,position:s.hasAttribute("position")?s.getAttribute("position"):"right start",gap:s.hasAttribute("gap")?s.getAttribute("gap"):"-5"}),e.addEventListener("click",l=>{s._popoverable.setState(!0)});let{clear:r}=ht(e,s,{gain(){s._popoverable.setState(!0)},lose(){s._popoverable.setState(!1)},focusable:!1});s._popoverable.onChange(()=>{s._popoverable.getState()||(r(),s._focusable.wipeTabbables()),s._anchorable.reposition()}),w(e,"keydown",l=>{l.key==="Enter"&&(s._popoverable.setState(!0),setTimeout(()=>s._focusable.focusFirst()))}),w(e,"keydown",l=>{l.key==="ArrowRight"&&(s._popoverable.setState(!0),setTimeout(()=>s._focusable.focusFirst()))}),w(s,"keydown",l=>{l.key==="ArrowLeft"&&(s._popoverable.setState(!1),e.focus(),l.stopPropagation())})}}})();
